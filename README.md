# YandexGo\_proj

## üìå –û–ø–∏—Å–∞–Ω–∏–µ

**YandexGo_proj** ‚Äî —ç—Ç–æ —Å–µ—Ä–≤–∏—Å –¥–ª—è –∑–∞–∫–∞–∑–∞ —Ç–∞–∫—Å–∏, –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –Ø–Ω–¥–µ–∫—Å Go. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å–ª–µ–¥—É—é—â–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

* –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–º —Ç–∞–∫—Å–∏
* –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –≤–æ–¥–∏—Ç–µ–ª–µ–π
* –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ø–æ–µ–∑–¥–æ–∫
* –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–∫–∞–∑–∞

## üõ†Ô∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

* **Frontend:** Kotlin
* **Backend:** Python, Go
* **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL
* **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ:** Redis, Kafka, gRPC, REST API, API Gateway
* **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:** Docker, Docker Compose
* **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API:** OpenAPI (Swagger)
* **–ú–µ—Ç—Ä–∏–∫–∏:** Grafana, Prometheus

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ –≤–æ–¥–∏—Ç–µ–ª—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ —á–µ—Ä–µ–∑ –º–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø—Ä–∏ —ç—Ç–æ–º –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö PostgreSQL-–±–∞–∑–∞—Ö. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ Kafka –∏ Redis.
```plaintext
                     +------------------------------+      +------------------------------+
                     |  üì± Mobile-App (User)        |      |  üì± Mobile-App (Driver)      |
                     |  ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ: JWT, –∏—Å—Ç–æ—Ä–∏—è    |      |  ‚Äî –ª–æ–∫–∞–ª—å–Ω–æ: JWT             |
                     +-----------+------------------+      +-----------+------------------+
                                 |                                     |
                     –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∑–∞–∫–∞–∑–æ–º      –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, GPS, –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∑–∞–∫–∞–∑–∞–º–∏
                                 |                                     |
                     +-----------v------------------+      +-----------v------------------+
                     |     üü¶ User-Service          |      |     üü© Driver-Service       |
                     |  REST / gRPC / Kafka ‚¨Ü       |      |  REST / gRPC / Kafka ‚¨á       |
                     |  –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤            |      |  –ü—Ä–∏–Ω—è—Ç–∏–µ –∑–∞–∫–∞–∑–æ–≤            |
                     |  ‚Üí Kafka: topic "orders"     |      |  ‚Üí Redis: –∞–∫—Ç–∏–≤–Ω—ã–µ –≤–æ–¥–∏—Ç–µ–ª–∏  |
                     +-----------+------------------+      |  ‚Üí Redis: –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã    |
                                 |                          +-----------+------------------+
                                 |                                      |
         +-----------------------+---------------------------------------+-------+    
         |                                                                       |
+--------v------------------+                                  +-----------------v------------------+
|  PostgreSQL Users         |                                  |  PostgreSQL Drivers                |
|  ID, –§–ò–û, email, —Ç–µ–ª–µ—Ñ–æ–Ω, |                                  |  ID, –§–ò–û, email, –ø–∞—Å–ø–æ—Ä—Ç, –∞–≤—Ç–æ,    |
+---------------------------+                                  |  –ø—Ä–∞–≤–∞                             |
                                                               +------------------------------------+


                            +---------------------------+
                            | üîê Auth-Service           |
                            | JWT –ø—Ä–æ–≤–µ—Ä–∫–∞ / OAuth      |
                            +---------------------------+

                            +---------------------------+
                            |         Kafka             |
                            |     Topic: "orders"       |
                            +------------+--------------+
                                         |
     –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞—ë—Ç –∑–∞–∫–∞–∑ ‚Üí Kafka  | –í–æ–¥–∏—Ç–µ–ª—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–∫–∞–∑ 
                                         v
                          +--------------+---------------+
                          |            Redis             |
                          |  DB 0: active drivers        |
                          |     ‚Äî ID, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã         |
                          |  DB 1: active orders         |
                          |     ‚Äî ID, —Å—Ç–∞—Ç—É—Å             |
                          +--------------+---------------+
                                ‚ñ≤              ‚ñ≤
                                |              |
                       +--------+              +--------+
                       |                                |
               Driver-Service                  Driver-Service
               –ø–∏—à–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã              –ø–∏—à–µ—Ç –ø—Ä–∏–Ω—è—Ç—ã–π –∑–∞–∫–∞–∑

```

---

## üåê API —Ä—É—á–∫–∏ (Admin Service)

**GET /admin/admin**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—Å–∫–æ–º—É —Ä–µ—Å—É—Ä—Å—É. –¢—Ä–µ–±—É–µ—Ç—Å—è —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞ 69.
**–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–ø—Ä–æ—Å–∞:**

```json
Authorization: Bearer <JWT-—Ç–æ–∫–µ–Ω>
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "message": "–î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—Å–∫–æ–º—É —Ä–µ—Å—É—Ä—Å—É",
  "user": {
    "id": "user_1",
    "email": "admin@example.com",
    "level_access": 69
  }
}
```

## üåê API —Ä—É—á–∫–∏ (Auth Service)

### 1. **POST /auth/users/add**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "id": "string",
  "first_name": "Ivan",
  "last_name": "Petrov",
  "email": "ivan@example.com",
  "phone_number": "+79991234567",
  "level_access": 1,
  "password": "securepassword"
}

```

**–û—Ç–≤–µ—Ç:**

```json
{
  "message": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω"
}
```

### 2. **DELETE /auth/users/delete**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID.
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞: id ‚Äî ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤ query string)
**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**

```json
DELETE /auth/users/delete?id=user_1
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "message": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω"
}
```

### 3. **POST /auth/drivers/add**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≤–æ–¥–∏—Ç–µ–ª—è.
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**

```json
{
  "id": "string", 
  "first_name": "Ivan",
  "last_name": "Ivanov",
  "email": "driver@example.com",
  "phone_number": "+79998887766",
  "level_access": 2,
  "password": "securepassword",
  "driver_license": "1234567890",
  "driver_license_date": "2020-01-01",
  "car_number": "A123BC77",
  "car_model": "Model S",
  "car_marks": "Tesla",
  "car_color": "black"
}
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "message": "–í–æ–¥–∏—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω"
}
```

### 4. **DELETE /auth/drivers/delete**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∏–µ –≤–æ–¥–∏—Ç–µ–ª—è –ø–æ ID.
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞: id ‚Äî ID –≤–æ–¥–∏—Ç–µ–ª—è (–≤ query string)
**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**

```json
DELETE /auth/drivers/delete?id=driver_1
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "message": "–í–æ–¥–∏—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω"
}
```

## üåê API —Ä—É—á–∫–∏ (JWT Service)

### 1. **POST /JWT/token**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
**–§–æ—Ä–º–∞ –∑–∞–ø—Ä–æ—Å–∞ (—Ç–∏–ø application/x-www-form-urlencoded):**

```json
username=ivan@example.com&password=securepassword
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "access_token": "<JWT-—Ç–æ–∫–µ–Ω>",
  "token_type": "bearer"
}
```

### 2. **GET /JWT/users/me**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
**–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–ø—Ä–æ—Å–∞:**

```json
Authorization: Bearer <JWT-—Ç–æ–∫–µ–Ω>
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "id": "user_1",
  "email": "ivan@example.com",
  "level_access": 1
}
```
## üåê API —Ä—É—á–∫–∏ (Order Service)

### 1. **POST /do_order/make_order**
**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ —Ç–∞–∫—Å–∏ –∏ –ø–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–∏—Ö –≤–æ–¥–∏—Ç–µ–ª–µ–π.
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ (–≤ query string): user_id, latitude, longitude
**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**

```json
POST /do_order/make_order?user_id=user_1&latitude=55.7558&longitude=37.6173
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "message": "–ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω, –±–ª–∏–∂–∞–π—à–∏–µ –≤–æ–¥–∏—Ç–µ–ª–∏ –Ω–∞–π–¥–µ–Ω—ã"
}
```

## üåê API —Ä—É—á–∫–∏ (Driver Service)

### 1. **GET /driver/profile**

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –≤–æ–¥–∏—Ç–µ–ª—è.
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:

```json
{
  "token": "JWT-—Ç–æ–∫–µ–Ω"
}
```

**–û—Ç–≤–µ—Ç**:

```json
{
  "id": "driver_1",
  "username": "Ivan",
  "phone": "+79991234567",
  "car_model": "Model S",
  "email": "ivan@example.com",
  "car_color": "black",
  "car_mark": "Tesla",
  "car_number": "A123BC77"
}
```

---

### 2. **POST /ride/{id}/accept**

**–û–ø–∏—Å–∞–Ω–∏–µ**: –í–æ–¥–∏—Ç–µ–ª—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–∫–∞–∑.
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏**: `id` ‚Äî ID –ø–æ–µ–∑–¥–∫–∏.
**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞**:

```json
{
  "id": "ride_123"
}
```

**–û—Ç–≤–µ—Ç**:

```json
{
  "status": true,
  "message": "Ride accepted"
}
```

---

### 3. **POST /ride/{id}/complete**

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–æ–µ–∑–¥–∫–∏.
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏**: `id` ‚Äî ID –ø–æ–µ–∑–¥–∫–∏.
**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞**:

```json
{
  "id": "ride_123"
}
```

**–û—Ç–≤–µ—Ç**:

```json
{
  "status": true,
  "message": "Ride accepted"
}
```

---

### 4. **POST /ride/{id}/cancel**

**–û–ø–∏—Å–∞–Ω–∏–µ**: –û—Ç–º–µ–Ω–∞ –ø–æ–µ–∑–¥–∫–∏ –≤–æ–¥–∏—Ç–µ–ª–µ–º.
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏**: `id` ‚Äî ID –ø–æ–µ–∑–¥–∫–∏.
**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞**:

```json
{
  "id": "ride_123"
}
```

**–û—Ç–≤–µ—Ç**:

```json
{
  "status": true,
  "message": "Ride accepted"
}
```

---

### 5. **GET /driver/current\_ride/{id}**

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–π –ø–æ–µ–∑–¥–∫–µ –≤–æ–¥–∏—Ç–µ–ª—è.
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏**: `id` ‚Äî ID –≤–æ–¥–∏—Ç–µ–ª—è.

**–û—Ç–≤–µ—Ç**:

```json
{
  "id": "ride_123",
  "user_id": "user_1",
  "driver_id": "driver_1",
  "start_location": {
    "latitude": 55.75,
    "longitude": 37.61
  },
  "end_location": {
    "latitude": 55.80,
    "longitude": 37.65
  },
  "status": "in_progress",
  "timestamp": 1716740000
}
```

---

### 6. **POST /driver/location**

**–û–ø–∏—Å–∞–Ω–∏–µ**: –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤–æ–¥–∏—Ç–µ–ª—è.
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:

```json
{
  "driver_id": "driver_1",
  "location": {
    "latitude": 55.75,
    "longitude": 37.61
  }
}
```

**–û—Ç–≤–µ—Ç**:

```json
{
  "status": true,
  "message": "Location updated"
}
```

---

### 7. **GET /driver/nearby\_req**

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –±–ª–∏–∂–∞–π—à–∏—Ö –∑–∞–∫–∞–∑–æ–≤.
**–û—Ç–≤–µ—Ç**:

```json
{
  "ride_requests": [
    {
      "user_id": "user_1",
      "start_location": {
        "latitude": 55.76,
        "longitude": 37.62
      },
      "end_location": {
        "latitude": 55.78,
        "longitude": 37.64
      }
    }
  ]
}
```

---

### 8. **GET /user/{id}**

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏**: `id` ‚Äî ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
**–û—Ç–≤–µ—Ç**:

```json
{
  "id": "user_1",
  "username": "Petr",
  "phone": "+79999887766"
}
```

---

### 9. **GET /driver/{id}/rides**

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–µ–∑–¥–æ–∫ –≤–æ–¥–∏—Ç–µ–ª—è.
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏**: `id` ‚Äî ID –≤–æ–¥–∏—Ç–µ–ª—è.
**–û—Ç–≤–µ—Ç**:

```json
{
  "rides": [
    {
      "id": "ride_123",
      "user_id": "user_1",
      "driver_id": "driver_1",
      "start_location": {
        "latitude": 55.75,
        "longitude": 37.61
      },
      "end_location": {
        "latitude": 55.80,
        "longitude": 37.65
      },
      "status": "completed",
      "timestamp": 1716730000
    }
  ]
}
```
---

---

## üåê API —Ä—É—á–∫–∏ (Client Service)

### 1. **GET /user/profile**

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:

```json
{
  "token": "JWT-—Ç–æ–∫–µ–Ω"
}
```

**–û—Ç–≤–µ—Ç**:

```json
{
  "id": "user_1",
  "username": "Ivan",
  "email": "ivan@example.com",
  "phone": "+79991234567"
}
```

---

### 2. **PUT /user/profile**

**–û–ø–∏—Å–∞–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:

```json
{
  "id": "user_1",
  "username": "Ivan",
  "email": "ivan@example.com",
  "phone": "+79991234567"
}
```

**–û—Ç–≤–µ—Ç**:

```json
{
  "id": "user_1",
  "username": "Ivan",
  "email": "ivan@example.com",
  "phone": "+79991234567"
}
```

---

### 3. **POST /ride/request**

**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∑–∞–∫–∞–∑–∞.
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:

```json
{
  "user_id": "user_1",
  "start_location": {
    "latitude": 55.751244,
    "longitude": 37.618423
  },
  "end_location": {
    "latitude": 55.760186,
    "longitude": 37.618711
  }
}
```

**–û—Ç–≤–µ—Ç**:

```json
{
  "id": "ride_123",
  "user_id": "user_1",
  "driver_id": "driver_9",
  "start_location": {...},
  "end_location": {...},
  "status": "pending",
  "timestamp": 1716653720
}
```

---

### 4. **POST /ride/{id}/cancel**

**–û–ø–∏—Å–∞–Ω–∏–µ**: –û—Ç–º–µ–Ω–∞ –ø–æ–µ–∑–¥–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏**: `id` ‚Äî ID –ø–æ–µ–∑–¥–∫–∏.
**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞**:

```json
{
  "id": "ride_123"
}
```

**–û—Ç–≤–µ—Ç**:

```json
{
  "status": true,
  "message": "Ride canceled successfully"
}
```

---

### 5. **GET /ride/{id}**

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–π –ø–æ–µ–∑–¥–∫–µ.
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏**: `id` ‚Äî ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞**:

```json
{
  "id": "user_1"
}
```

**–û—Ç–≤–µ—Ç**:

```json
{
  "id": "ride_123",
  "user_id": "user_1",
  "driver_id": "driver_9",
  "start_location": {...},
  "end_location": {...},
  "status": "in_progress",
  "timestamp": 1716653720
}
```

---

### 6. **GET /ride/history**

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ–µ–∑–¥–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:

```json
{
  "id": "user_1"
}
```

**–û—Ç–≤–µ—Ç**:

```json
{
  "rides": [
    {
      "id": "ride_123",
      "status": "completed",
      ...
    },
    {
      "id": "ride_122",
      "status": "canceled",
      ...
    }
  ]
}
```

---

### 7. **GET /driver/{id}/location**

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤–æ–¥–∏—Ç–µ–ª—è.
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏**: `id` ‚Äî ID –≤–æ–¥–∏—Ç–µ–ª—è.
**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞**:

```json
{
  "id": "driver_9"
}
```

**–û—Ç–≤–µ—Ç**:

```json
{
  "latitude": 55.751244,
  "longitude": 37.618423
}
```

---

### 8. **GET /driver/{id}**

**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–æ–¥–∏—Ç–µ–ª–µ.
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏**: `id` ‚Äî ID –≤–æ–¥–∏—Ç–µ–ª—è.
**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞**:

```json
{
  "id": "driver_9"
}
```

**–û—Ç–≤–µ—Ç**:

```json
{
  "id": "driver_9",
  "username": "Ivan",
  "phone": "+79991234567",
  "car_model": "Model S",
  "car_make": "Tesla",
  "car_number": "A123BC77",
  "car_color": "black",
  "location": {
    "latitude": 55.751244,
    "longitude": 37.618423
  }
}
```

---

## üìÑ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å UI –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:

```plaintext
http://79.174.85.58:8080/docs
```

## üë• –ê–≤—Ç–æ—Ä—ã –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã
* –î—ã–ª–¥–∏–Ω –°–µ—Ä–≥–µ–π: backend: grpc +metrics (drivers, client services)
* –î—Ä–æ–±—ã—à–µ–≤ –ï–≥–æ—Ä: backend: –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, sql +metrics (auth service)
* –ë–æ–≥–¥–∞–Ω–æ–≤ –ú–∏—Ö–∞–∏–ª: backend: admin, auth, jwt, order services
* –¢–∞—Ç—É–ª—å—è–Ω –ê—Ä—Ç—ë–º: frontend
* –°—Ç—Ä–µ–ª—å–Ω–∏–∫–æ–≤ –ù–∏–∫–∏—Ç–∞: frontend
